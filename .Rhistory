lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
model2 <- felm(lVolume ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
summary(model6)
summary(model2)
model3 <- felm(abs_intra_day ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
summary(model3)
model2 <- felm(lVolume ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
summary(model2)
model4 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + lVolume
abs_overnight +
model4 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + lVolume +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
summary(model4)
model5 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + abs_intra_day +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
summary(model5)
model6 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + lVolume + abs_intra_day +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
model6
summary(model6)
stargazer(model1, model2, model3, model4, model5, model6,
table.placement = "H", df = F)
"
Spillovers to volume and returns
"
model1 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + own_sec_highlow_notme +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
model2 <- felm(lVolume ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + own_sec_highlow_notme +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
summary(model2)
model3 <- felm(abs_intra_day ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + own_sec_highlow_notme +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
model4 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + own_sec_highlow_notme + lVolume +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
model5 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + own_sec_highlow_notme + abs_intra_day +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
model6 <- felm(highlow ~ mention + dem_weighted_mention_avg + cons_weighted_mention_avg +
+ own_sec_mention_avg_notme + own_sec_highlow_notme + lVolume + abs_intra_day +
abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
| Code + Date,
data = model_df)
stargazer(model1, model2, model3, model4, model5, model6,
table.placement = "H", df = F)
stargazer(as.matrix(DoublML_effects))
stargazer(as.matrix(DoubleML_effects))
stargazer(as.matrix(DoubleML_effects[,c("rf_reg_coef", "rf_reg_se")]))
x <- as.matrix(DoubleML_effects[,c("rf_reg_coef", "rf_reg_se")])
x
DoubleML_effects %>%
rename(coef = rf_reg_coef, se = rf_reg_se)
persist_coefs
DoubleML_effects %>%
rename(coef = rf_reg_coef, se = rf_reg_se) %>%
select(model, coef, se)
DoubleML_effects %>%
rename(coef = rf_reg_coef, se = rf_reg_se) %>%
select(model, coef, se) %>%
mutate(coef = round(coef, 3), se = round(se, 3))
DoubleML_keep
DoubleML_keep  <- DoubleML_effects %>%
rename(coef = rf_reg_coef, se = rf_reg_se) %>%
select(model, coef, se) %>%
mutate(coef = round(coef, 3), se = round(se,))
DoubleML_keep
persist_coefs <- data.frame(model = c("Baseline", "LR + volatility lags", "LR + volatility, volume and return lags",
"LR + volatility, volume and return lags + implied volatility",
"LR + volatility, volume and return lags + implied volatility + realised return"),
coef = 0, se = 0)
persist_coefs <- rbind(persist_coefs, DoubleML_keep)
persist_coefs
persist_coefs
persist_coefs <- data.frame(model = c("Baseline", "LR + volatility lags", "LR + volatility, volume and return lags",
"LR + volatility, volume and return lags + implied volatility",
"LR + volatility, volume and return lags + implied volatility + realised return"),
coef = 0, se = 0)
## Baseline model
model1 <- felm_DK_se(highlow ~ mention + abs_overnight +
highlow_1lag | Code + period, total_data)
persist_coefs$coef[which(persist_coefs$model == "Baseline")] <- summary(model1)$coefficients["mention","Estimate"]
persist_coefs$se[which(persist_coefs$model == "Baseline")] <- summary(model1)$coefficients["mention","Std. Error"]
## More highlow lags
model2 <- felm_DK_se(highlow ~ mention  + abs_overnight +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag
|Code + period, total_data)
persist_coefs$coef[which(persist_coefs$model == "LR + volatility lags")] <- summary(model2)$coefficients["mention","Estimate"]
persist_coefs$se[which(persist_coefs$model == "LR + volatility lags")] <- summary(model2)$coefficients["mention","Std. Error"]
## More price movement lags
model3 <- felm_DK_se(highlow ~ mention + abs_overnight +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
|Code + period, total_data)
persist_coefs$coef[which(persist_coefs$model == "LR + volatility, volume and return lags")] <- summary(model3)$coefficients["mention","Estimate"]
persist_coefs$se[which(persist_coefs$model == "LR + volatility, volume and return lags")] <- summary(model3)$coefficients["mention","Std. Error"]
## Implied volatility lags
model4 <- felm_DK_se(highlow ~ mention + abs_overnight +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
|Code + period, total_data)
persist_coefs$coef[which(persist_coefs$model == "LR + volatility, volume and return lags + implied volatility")] <- summary(model4)$coefficients["mention","Estimate"]
persist_coefs$se[which(persist_coefs$model == "LR + volatility, volume and return lags + implied volatility")] <- summary(model4)$coefficients["mention","Std. Error"]
## Realised returns
model5 <- felm_DK_se(highlow ~ mention + abs_overnight + abs_intra_day +
VI_put_1lag + VI_put_2lag + VI_put_3lag + VI_put_4lag + VI_put_5lag +
VI_call_1lag + VI_call_2lag + VI_call_3lag + VI_call_4lag + VI_call_5lag +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag + highlow_5lag +
highlow_6lag + highlow_7lag + highlow_8lag + highlow_9lag + highlow_10lag +
lVolume_1lag + lVolume_2lag + lVolume_3lag + lVolume_4lag + lVolume_5lag +
lVolume_6lag + lVolume_7lag + lVolume_8lag + lVolume_9lag + lVolume_10lag +
abs_return_1lag + abs_return_2lag + abs_return_3lag + abs_return_4lag + abs_return_5lag +
abs_return_6lag + abs_return_7lag + abs_return_8lag + abs_return_9lag + abs_return_10lag +
return_1lag + return_2lag + return_3lag + return_4lag + return_5lag +
return_6lag + return_7lag + return_8lag + return_9lag + return_10lag
|Code + period, total_data)
persist_coefs$coef[which(persist_coefs$model ==
"LR + volatility, volume and return lags + implied volatility + realised return")] <-
summary(model5)$coefficients["mention","Estimate"]
persist_coefs$se[which(persist_coefs$model ==
"LR + volatility, volume and return lags + implied volatility + realised return")] <-
summary(model5)$coefficients["mention","Std. Error"]
## Import the DoubleML effects
DoubleML_effects <- read.csv("figures/DoubleML_effects.csv")
DoubleML_keep  <- DoubleML_effects %>%
rename(coef = rf_reg_coef, se = rf_reg_se) %>%
select(model, coef, se) %>%
mutate(coef = round(coef, 3), se = round(se,))
DoubleML_keep
coefs_plt_df <- rbind(persist_coefs, DoubleML_keep)
coefs_plt_df
DoubleML_keep
DoubleML_effects
DoubleML_keep  <- DoubleML_effects %>%
rename(coef = rf_reg_coef, se = rf_reg_se) %>%
select(model, coef, se) %>%
mutate(coef = round(coef, 3), se = round(se,3))
DoubleML_keep
coefs_plt_df <- rbind(persist_coefs, DoubleML_keep)
coefs_plt_df <- rbind(persist_coefs, DoubleML_keep) %>%
mutate(coef = round(coef, 3), se = round(se,3))
coefs_plt_df
coefs_plt_df$model_factor <- factor(persist_coefs$model, ordered = T,
levels <- persist_coefs$model)
coefs_plt_df$model_factor <- factor(coefs_plt_df$model, ordered = T,
levels <- coefs_plt_df$model)
coefs_plt_df
ggplot(coefs_plt_df, aes(y=fct_rev(model_factor), x=coef)) + theme_bw() +
geom_point(shape=21, size=3, fill="white") +
geom_errorbar(width=.1, aes(xmin=coef-1.96*se, xmax=coef+1.96*se)) +
geom_vline(aes(xintercept = 0), linetype = "dashed") +
labs(y = "Model", x = "FT article effect")
coefs_plt_df
ggplot(coefs_plt_df[c(1,2,3,4,5,6,7)],
aes(y=fct_rev(model_factor), x=coef)) + theme_bw() +
geom_point(shape=21, size=3, fill="white") +
geom_errorbar(width=.1, aes(xmin=coef-1.96*se, xmax=coef+1.96*se)) +
geom_vline(aes(xintercept = 0), linetype = "dashed") +
labs(y = "Model", x = "FT article effect")
ggplot(coefs_plt_df[c(1,2,3,4,5,6,7),],
aes(y=fct_rev(model_factor), x=coef)) + theme_bw() +
geom_point(shape=21, size=3, fill="white") +
geom_errorbar(width=.1, aes(xmin=coef-1.96*se, xmax=coef+1.96*se)) +
geom_vline(aes(xintercept = 0), linetype = "dashed") +
labs(y = "Model", x = "FT article effect")
names(total_data)
index_data <- total_data %>%
group_by(period) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(mention, na.rm = T),
Index_abs_Change = mean(mention, na.rm = T)))
index_data <- total_data %>%
group_by(period) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(mention, na.rm = T),
Index_abs_Change = mean(mention, na.rm = T))
index_data
lm(IndexHighLow ~ mention, index_data)
index_data <- total_data %>%
group_by(period) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T))
lm(IndexHighLow ~ mention, index_data)
index_data
index_data <- total_data %>%
group_by(period, Date) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T))
index_data
?lag
index_data <- total_data %>%
group_by(period, Date) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period))
index_data
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention))
index_data <- total_data %>%
group_by(period, Date) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period)) %>%
filter(mention < 0.1)
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention))
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention)) +
geom_smooth(aes(x = as.Date(Date), y = mention))
index_data <- total_data %>%
group_by(period, Date) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
highlow = mean(highlow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T),
abs_intra_day = mean(abs_intra_day, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period)) %>%
filter(mention < 0.1)
index_data <- total_data %>%
group_by(period, Date) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
highlow = mean(highlow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T),
abs_intra_day = mean(abs_intra_day, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period)) %>%
mutate(highlow_1lag = lag(highlow, order_by = period)) %>%
filter(mention < 0.1)
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention), color = "mention") +
geom_line(aes(x = as.Date(Date), y = highlow), color = "highlow")
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention, color = "mention")) +
geom_line(aes(x = as.Date(Date), y = highlow, color = "highlow"))
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention*100, color = "mention")) +
geom_line(aes(x = as.Date(Date), y = highlow, color = "highlow"))
lm(highlow ~ mention, index_data)
summary(lm(highlow ~ mention, index_data))
summary(lm(highlow ~ mention, + highlow_1lag index_data))
summary(lm(highlow ~ mention, + highlow_1lag, index_data))
summary(lm(highlow ~ mention + highlow_1lag, index_data))
summary(lm(highlow ~ mention + abs_intra_day + highlow_1lag, index_data))
model1 <- lm(highlow ~ mention + abs_intra_day + highlow_1lag, index_data)
model2 <- lm(highlow ~ mention + abs_intra_day + highlow_1lag, index_data)
model3 <- lm(highlow ~ mention + abs_intra_day + highlow_1lag, index_data)
model3
summary(model1)
summary(model2)
summary(model2)
model1 <- lm(highlow ~ mention, index_data)
model2 <- lm(highlow ~ mention + highlow_1lag, index_data)
model3 <- lm(highlow ~ mention + abs_intra_day + highlow_1lag, index_data)
summary(model3)
index_data <- total_data %>%
group_by(period, Date, weekday) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
highlow = mean(highlow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T),
abs_intra_day = mean(abs_intra_day, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period)) %>%
mutate(highlow_1lag = lag(highlow, order_by = period)) %>%
mutate(highlow_2lag = lag(highlow, order_by = period)) %>%
mutate(highlow_3lag = lag(highlow, order_by = period)) %>%
mutate(highlow_4lag = lag(highlow, order_by = period)) %>%
mutate(highlow_5lag = lag(highlow, order_by = period)) %>%
filter(mention < 0.1)
model1 <- lm(highlow ~ mention, index_data)
model2 <- lm(highlow ~ mention + weekday +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag  + highlow_5lag, index_data)
summary(model2)
index_data <- total_data %>%
group_by(period, Date, weekday) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
highlow = mean(highlow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T),
abs_intra_day = mean(abs_intra_day, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period)) %>%
mutate(highlow_1lag = lag(highlow, n=1, order_by = period)) %>%
mutate(highlow_2lag = lag(highlow, n=2, order_by = period)) %>%
mutate(highlow_3lag = lag(highlow, n=3, order_by = period)) %>%
mutate(highlow_4lag = lag(highlow, n=4, order_by = period)) %>%
mutate(highlow_5lag = lag(highlow, n=5, order_by = period)) %>%
filter(mention < 0.1)
ggplot(index_data) +
geom_line(aes(x = as.Date(Date), y = mention*100, color = "mention")) +
geom_line(aes(x = as.Date(Date), y = highlow, color = "highlow")) +
geom_smooth(aes(x = as.Date(Date), y = mention))
model1 <- lm(highlow ~ mention, index_data)
model2 <- lm(highlow ~ mention + weekday +
highlow_1lag + highlow_2lag + highlow_3lag + highlow_4lag  + highlow_5lag, index_data)
summary(model2)
model1 <- lm(IndexHighLow ~ mention, index_data)
model1
model2 <- lm(IndexHighLow ~ mention + IndexHighLow_1lag, index_data)
summary(model2)
index_data <- total_data %>%
group_by(period, Date, weekday) %>%
summarise(mention = mean(mention, na.rm = T),
IndexHighLow = mean(IndexHighLow, na.rm = T),
highlow = mean(highlow, na.rm = T),
Index_abs_Change = mean(Index_abs_Change, na.rm = T),
abs_intra_day = mean(abs_intra_day, na.rm = T),
VI_put = mean(VI_put, na.rm = T)) %>%
ungroup() %>%
mutate(IndexHighLow_1lag = lag(IndexHighLow, order_by = period)) %>%
mutate(highlow_1lag = lag(highlow, n=1, order_by = period)) %>%
mutate(highlow_2lag = lag(highlow, n=2, order_by = period)) %>%
mutate(highlow_3lag = lag(highlow, n=3, order_by = period)) %>%
mutate(highlow_4lag = lag(highlow, n=4, order_by = period)) %>%
mutate(highlow_5lag = lag(highlow, n=5, order_by = period)) %>%
filter(mention < 0.1)
model3 <- lm(highlow ~ mention + abs_intra_day + highlow_1lag, index_data)
model3
summary(model3)
model3 <- lm(highlow ~ mention + abs_intra_day + highlow_1lag + VI_put, index_data)
summary(model3)
model1 <- lm(IndexHighLow ~ mention, index_data)
model2 <- lm(IndexHighLow ~ mention + IndexHighLow_1lag, index_data)
model1
model2
stargazer(model1, model2)
stargazer(model1, model2, table.placement = "H", df = f)
stargazer(model1, model2, table.placement = "H", df = F)
